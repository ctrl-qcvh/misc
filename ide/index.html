<!DOCTYPE html>
<style>
  iframe{
    width: 100%;
    height: 100%;
    margin-left: auto;
    margin-right: auto;
  }
  .codeBox{
    width:100%;#42445A
    height:100%;
  }
</style>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>
<textarea id=codeBox><!DOCTYPE html>
<html><body>

  <script>
<!doctype html>
      <html lang="en-us">
       <head>
          <meta charset="utf-8">
       <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
          <title>DOOM</title>
        <style type="text/css">
          .dosbox-container { width: 32px; height: 20px; }
            .dosbox-container > .dosbox-overlay { background: url(https://js-dos.com/cdn/DOOM.png); }
         </style>
       </head>
     <body>
         <div id="dosbox"></div>
        <br/>
       <button onclick="dosbox.requestFullScreen();">Make fullscreen</button>
         <script type="text/javascript" src="https://js-dos.com/cdn/js-dos-api.js"></script>
         <script type="text/javascript">
          var dosbox = new Dosbox({
            id: "dosbox", 
             onload: function (dosbox) {
              dosbox.run("upload/DOOM-@evilution.zip", "./doom");
            },
            onrun: function (dosbox, app) {
              console.log("App '" + app + "' is runned");
             }
         });
      </script>
    </body>
    </html>
  </script>
</body></html>
</textarea>
<button onclick="submitCode()">Run Code</button>

<iframe id=runningCode>

</iframe>
<script>
let codeValue
function submitCode()
{
  codeValue=document.getElementById('codeBox').value;//c
  let encodedHtml=encodeURIComponent(codeValue);//t
//  document.getElementById('iframe').src=codeValue;
   var iframe = document.getElementById('runningCode').contentWindow.document;//r
    iframe.open();//lo
    iframe.write(codeValue);//-r
    iframe.close();//hg
   
//    iframe.srcdoc = encodedHtml;
}
</script>
</html>